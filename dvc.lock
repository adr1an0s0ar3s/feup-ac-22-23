schema: '2.0'
stages:
  migrate_database_to_sql:
    cmd: sqlite3 data/database.db -batch -init src/sql/init.sql
    deps:
    - path: data/account.csv
      md5: ef0f49c7954bbbfc783ea36a735b25e1
      size: 156340
    - path: data/card_dev.csv
      md5: 7aaa57fe06bd39e81fa7dba9a9d27fb3
      size: 4328
    - path: data/client.csv
      md5: 487458958bfdc1040ec8fd3fd4f6c01b
      size: 94820
    - path: data/disp.csv
      md5: d6d137e58d95b0522ce284bcecb1c2c9
      size: 129716
    - path: data/district.csv
      md5: 14aa6edfb2fa331dcd98aed1256b6d65
      size: 6642
    - path: data/loan_dev.csv
      md5: 92611660fdf3cffd844726e59360d764
      size: 11424
    - path: data/trans_dev.csv
      md5: c6f59a61bdc6227463d27b28727d2a14
      size: 33243199
    - path: src/sql/create.sql
      md5: a14005c0d44ccef3cb9b97755807f121
      size: 382
    - path: src/sql/init.sql
      md5: 8b8563c2b6482e0eb34de27c9db3c670
      size: 129
    outs:
    - path: data/database.db
      md5: 8216bf4ee95d6e069819a693d4b72b52
      size: 376832
  create_database:
    cmd: sqlite3 data/database.db < src/sql/init.sql
    deps:
    - path: data/account.csv
      md5: ef0f49c7954bbbfc783ea36a735b25e1
      size: 156340
    - path: data/card_dev.csv
      md5: 7aaa57fe06bd39e81fa7dba9a9d27fb3
      size: 4328
    - path: data/client.csv
      md5: 487458958bfdc1040ec8fd3fd4f6c01b
      size: 94820
    - path: data/disp.csv
      md5: d6d137e58d95b0522ce284bcecb1c2c9
      size: 129716
    - path: data/district.csv
      md5: 14aa6edfb2fa331dcd98aed1256b6d65
      size: 6642
    - path: data/loan_dev.csv
      md5: 92611660fdf3cffd844726e59360d764
      size: 11424
    - path: data/trans_dev.csv
      md5: c6f59a61bdc6227463d27b28727d2a14
      size: 33243199
    - path: src/sql/create.sql
      md5: 8c3e35359cf1324bf1534d5077c84f58
      size: 2359
    - path: src/sql/init.sql
      md5: 65b3f3235365fe21883eefd547fc5635
      size: 340
    outs:
    - path: data/database.db
      md5: 17d7f638917887d4c5b3dc2121e03827
      size: 35721216
  process-data:
    cmd: python3 src/process_data.py
    deps:
    - path: data/database.db
      md5: 17d7f638917887d4c5b3dc2121e03827
      size: 35721216
    - path: src/process_data.py
      md5: 0b0de16e0ecc781cde17b7efed34a49e
      size: 244
    outs:
    - path: data/processed_data.csv
      md5: 704f9d263c28cbb019db1a64181fd899
      size: 11091
  split-data:
    cmd: python3 src/split_data.py
    deps:
    - path: data/processed_data.csv
      md5: 704f9d263c28cbb019db1a64181fd899
      size: 11091
    - path: src/split_data.py
      md5: 980af468a2d11952f2cc36a5e217c752
      size: 653
    outs:
    - path: data/X_test.csv
      md5: 47b50daca30805049b79a3fecec11815
      size: 2633
    - path: data/X_train.csv
      md5: e91e6b6bd02e6e969a7d15e80afd2818
      size: 7792
    - path: data/y_test.csv
      md5: cdcd6dd40ffc88c31452ca716c002a98
      size: 181
    - path: data/y_train.csv
      md5: 21511fef40fd9233e5e6e43805dbb43c
      size: 535
